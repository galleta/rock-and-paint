package super_paint;

import java.net.URL;
import javax.media.Manager;
import javax.media.NoPlayerException;
import javax.media.Player;

import javax.media.*;
import java.io.*;

/**
 * <p>Título: Práctica de Sistemas Multimedia</p>
 * <p>Descripción: Práctica de Sistemas Multimedia</p>
 * <p>Copyright: Copyright (c) 2009</p>
 * <p>Empresa: Piratas Sin Fronteras S.A.</p>
 * @author Francisco Jesús Delgado Almirón
 * @version 1.0
 */

public class sonido
{
  // ***** Atributos privados de la clase *****
  Player reproductor;
  boolean pausado = false, empezado = false, avanzarrapido = false;
  Time pausa = null;
  // ******************************************
  public sonido()
  {
    reproductor = null;
  }

  public sonido(URL directorio)
  {
    try
    {
      reproductor = Manager.createPlayer(directorio);
    }
    catch (NoPlayerException ex)
    {
    }
    catch (IOException ex)
    {
    }
  }

  public void reproducir()
  {
    reproductor.start();
  }

  public void pausa(boolean estado)
  {
    if( estado )
    {
      reproductor.setMediaTime(pausa); // pongo la reproducción en el momento en el que se pausó
      reproductor.start(); // reproduzco el sonido
      //pausado = false; // y digo que el sonido ya no está pausado
    }
    else
    {
      pausa = reproductor.getMediaTime(); // cojo el instante donde se ha quedado pausado el sonido
      //pausado = true; // digo que el sonido está pausado
      reproductor.stop(); // paro el sonido
    }
  }

  public void parar(boolean avanzarrapido)
  {
    if( avanzarrapido ) // si estoy avanzando rápido y quiero parar
      {
        reproductor.stop(); // paro el sonido
        reproductor.setRate(1.f); // le pongo el rate a 1 que es el rate para reproducción normal
        reproductor = null;
        //empezado = false;
        //avanzarrapido = false;
      }
      else
      {
        reproductor.stop(); // paro el sonido
        reproductor = null; // pongo el sonido a nulo
        //empezado = false; // le digo que puede volver a empezar de nuevo
      }
  }

  public void avanzarRapido()
  {
    reproductor.setRate(2.f); // le pongo el rate para que avanze rápido
  }

}
