package super_paint;

import java.awt.event.*;
import javax.swing.*;

/**
 * <p>Título: Práctica de Sistemas Multimedia</p>
 * <p>Descripción: Práctica de Sistemas Multimedia</p>
 * <p>Copyright: Copyright (c) 2009</p>
 * <p>Empresa: Piratas Sin Fronteras S.A.</p>
 * @author Francisco Jesús Delgado Almirón
 * @version 1.0
 */

/*
Esta clase me la he creado para cuando tengo en el menú Ventanas todas las ventanas de imagen, música y vídeo, al hacerles
click (método actionPerformed) me ponga la ventana elegida al frente.
*/

public class menu_actionAdapter implements java.awt.event.ActionListener
{

  private Interfaz creador;
  private String titu;
  private JInternalFrame frame_interno;
  private int resta;

  public menu_actionAdapter() {
  }

  public menu_actionAdapter(Interfaz inter, String titulo, int restar) {
    titu = titulo;
    creador = inter;
    resta = restar;
  }

  /**
   * <p><u>Descripción</u>: Pone al frente la ventana a la que se le hace click.</p>
   * @param e ActionEvent
   */
  public void actionPerformed(ActionEvent e)
  {
    boolean seguirbuscando = true;
    JInternalFrame ventanas_abiertas[] = creador.escritorio.getAllFrames();

    for (int i = 0; i < ventanas_abiertas.length && seguirbuscando; i++)
    {
      System.out.println("Pruebo con una ventana de imagen");
      if (ventanas_abiertas[i] instanceof Ventana_imagen)
      {
        //System.out.println("Comparo: " + ventanas_abiertas[i].getTitle().substring(0, ventanas_abiertas[i].getTitle().length() - resta) + " con " + titu);
        if (ventanas_abiertas[i].getTitle().substring(0, ventanas_abiertas[i].getTitle().length() - resta).compareTo(titu) == 0)
        {
          System.out.println("Encuentro la ventana de imagen que buscaba y la pongo al frente y no busco mas");
          frame_interno = (JInternalFrame)ventanas_abiertas[i];
          seguirbuscando = false;
        }
      }
      else
      {
          System.out.println("No es ventana de imagen y pruebo con video");
          if (ventanas_abiertas[i] instanceof ventana_video)
          {
            System.out.println("Pruebo con una ventana de video");
            if( ventanas_abiertas[i].getTitle().compareTo("Reproducir vídeo - Sin archivo") == 0 )
            {
              System.out.println("Encuentro la ventana de video que busco");
              frame_interno = (JInternalFrame)ventanas_abiertas[i];
              //seguirbuscando = false;
            }
          }
          else
          {
              if( ventanas_abiertas[i] instanceof Ventana_audio )
              {
                System.out.println("Pruebo con una ventana de audio");
                if( ventanas_abiertas[i].getTitle().compareTo("Reproductor de sonido - Sin archivo") == 0 )
               {
                 if( ventanas_abiertas[i].getTitle().substring(24, ventanas_abiertas[i].getTitle().length()).compareTo(titu) == 0 )
                 {
                   frame_interno = ventanas_abiertas[i];
                   seguirbuscando = true;
                 }
               }
               else
               {
                   if( ventanas_abiertas[i].getTitle().substring(24, ventanas_abiertas[i].getTitle().length() - 4).compareTo(titu.substring(0,titu.length()-4)) == 0 )
                   {
                     frame_interno = ventanas_abiertas[i];
                     seguirbuscando = true;
                   }
               }
              }
          }
      }

      /*boolean quietoparao = false;
           JInternalFrame ventanicas[] = creador.escritorio.getAllFrames();

           for(int i = 0; i < ventanicas.length && !quietoparao; i++)
           {
        if(ventanicas[i] instanceof Ventana_imagen )
        {
          if( ventanicas[i].getTitle().substring(0, ventanicas[i].getTitle().length() - resta).compareTo(titu) == 0 )
          {
            frame_interno = ventanicas[i];
            quietoparao = true;
          }
        }
        else
             if(ventanicas[i] instanceof Ventana_audio )
             {
               if( ventanicas[i].getTitle().compareTo("Reproductor de sonido - Sin archivo") == 0 )
               {
                 if( ventanicas[i].getTitle().substring(24, ventanicas[i].getTitle().length()).compareTo(titu) == 0 )
                 {
                   frame_interno = ventanicas[i];
                   quietoparao = true;
                 }
               }
               else
               {
                   if( ventanicas[i].getTitle().substring(24, ventanicas[i].getTitle().length() - 4).compareTo(titu.substring(0,titu.length()-4)) == 0 )
                   {
                     frame_interno = ventanicas[i];
                     quietoparao = true;
                   }
               }
             }
           }
       */
    }
    System.out.println("-----------------------------------------------------------------");

    frame_interno.toFront();
    try
    {
        frame_interno.setSelected(true);
    }
    catch (Exception ex)
    {
    }

  }
}
